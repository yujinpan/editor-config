<templateSet group="user">
  <template name="velselect" value="&lt;el-select v-model=&quot;$model$&quot; placeholder=&quot;请选择&quot;&gt;&#10;  &lt;el-option&#10;    v-for=&quot;item in $options$&quot;&#10;    :key=&quot;item.value&quot;&#10;    :label=&quot;item.label&quot;&#10;    :value=&quot;item.value&quot;&#10;  &gt;&lt;/el-option&gt;&#10;&lt;/el-select&gt;" description="" toReformat="true" toShortenFQNames="true">
    <variable name="model" expression="" defaultValue="" alwaysStopAt="true" />
    <variable name="options" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="HTML_TEXT" value="true" />
      <option name="VUE_TEMPLATE" value="true" />
    </context>
  </template>
  <template name="vbase-ts" value="&lt;template&gt;&#10;  &lt;div&gt;{{msg}}&lt;/div&gt;&#10;&lt;/template&gt;&#10;&#10;&lt;script lang=&quot;ts&quot;&gt;&#10;import { Component, Prop, Vue } from 'vue-property-decorator';&#10;&#10;@Component({&#10;  name: $Name$&#10;})&#10;export default class $Name$ extends Vue {&#10;  @Prop() private msg!: string;&#10;}&#10;&lt;/script&gt;&#10;&#10;&lt;style scoped lang=&quot;scss&quot;&gt;&#10;@import '@/styles/common-variables.scss';&#10;&lt;/style&gt;" description="" toReformat="true" toShortenFQNames="true">
    <variable name="Name" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="HTML_TEXT" value="true" />
      <option name="VUE_TOP_LEVEL" value="true" />
    </context>
  </template>
  <template name="veldialog-form" value="&lt;template&gt;&#10;  &lt;el-dialog&#10;    :visible.sync=&quot;visible&quot;&#10;    :title=&quot;title&quot;&#10;    custom-class=&quot;el-dialog-form&quot;&#10;    width=&quot;750px&quot;&#10;    append-to-body&#10;  &gt;&#10;    &lt;CMForm&#10;      ref=&quot;CMForm&quot;&#10;      :model=&quot;form&quot;&#10;      :fields=&quot;fields&quot;&#10;      size=&quot;small&quot;&#10;      label-width=&quot;90px&quot;&#10;    /&gt;&#10;    &lt;div slot=&quot;footer&quot; class=&quot;text-center&quot;&gt;&#10;      &lt;el-button&#10;        @click=&quot;submit()&quot;&#10;        :loading=&quot;loading&quot;&#10;        type=&quot;primary&quot;&#10;        size=&quot;small&quot;&#10;        &gt;确认&lt;/el-button&#10;      &gt;&#10;      &lt;el-button @click=&quot;close()&quot; size=&quot;small&quot;&gt;取消&lt;/el-button&gt;&#10;    &lt;/div&gt;&#10;  &lt;/el-dialog&gt;&#10;&lt;/template&gt;&#10;&#10;&lt;script&gt;&#10;import { mergeProps } from '@greatmap/common-modules';&#10;&#10;export default {&#10;  data() {&#10;    return {&#10;      visible: false,&#10;      type: 'add', // add/edit&#10;      fields: [&#10;        {&#10;          prop: 'name',&#10;          label: '名称',&#10;          type: 'INPUT',&#10;          rules: ['required']&#10;        },&#10;        {&#10;          prop: 'type',&#10;          label: '类型',&#10;          type: 'SELECT',&#10;          options: [{ value: 1, label: 1 }],&#10;          rules: ['required']&#10;        }&#10;      ],&#10;      form: {},&#10;      loading: false&#10;    };&#10;  },&#10;  computed: {&#10;    title() {&#10;      return this.type === 'add' ? '添加' : '编辑';&#10;    }&#10;  },&#10;  methods: {&#10;    open(type = 'add', data) {&#10;      this.visible = true;&#10;      this.type = type;&#10;      this.$nextTick(() =&gt; {&#10;        this.$refs.CMForm.resetFields();&#10;        if (data) {&#10;          mergeProps(this.form, data);&#10;        }&#10;      });&#10;    },&#10;    submit() {&#10;      this.$refs.CMForm.validate().then(() =&gt; {&#10;        this.loading = true;&#10;        (this.type === 'edit' ? this.update : this.add)(this.form)&#10;          .then(() =&gt; {&#10;            this.$message.success(this.title + '成功');&#10;            this.close(this.form);&#10;          })&#10;          .finally(() =&gt; (this.loading = false));&#10;      });&#10;    },&#10;    close(data) {&#10;      data &amp;&amp; this.$emit('close', data);&#10;      this.visible = false;&#10;    }&#10;  }&#10;};&#10;&lt;/script&gt;&#10;&#10;&lt;style lang=&quot;scss&quot; scoped&gt;&#10;//@import '~@/styles/common-variables.scss';&#10;&lt;/style&gt;&#10;" description="" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="HTML_TEXT" value="true" />
      <option name="VUE_TEMPLATE" value="true" />
    </context>
  </template>
  <template name="vlist" value="&lt;template&gt;&#10;  &lt;CMList&#10;    ref=&quot;CMList&quot;&#10;    :get-list-method=&quot;getListMethod&quot;&#10;    :columns=&quot;columns&quot;&#10;    :filter-fields=&quot;filterField&quot;&#10;    :filter-params=&quot;filterParams&quot;&#10;    size=&quot;small&quot;&#10;  &gt;&#10;    &lt;template #header&gt;&#10;      &lt;el-button&#10;        @click=&quot;$refs.Detail.open()&quot;&#10;        type=&quot;primary&quot;&#10;        size=&quot;small&quot;&#10;        icon=&quot;el-icon-plus&quot;&#10;        &gt;创建&lt;/el-button&#10;      &gt;&#10;&#10;      &lt;Detail ref=&quot;Detail&quot;&gt;&lt;/Detail&gt;&#10;    &lt;/template&gt;&#10;    &lt;template #column-end&gt;&#10;      &lt;el-table-column label=&quot;操作&quot;&gt;&#10;        &lt;template slot-scope=&quot;{ row }&quot;&gt;&#10;          &lt;el-button&#10;            @click=&quot;$refs.Detail.open('edit', row)&quot;&#10;            size=&quot;mini&quot;&#10;            type=&quot;primary&quot;&#10;            &gt;编辑&lt;/el-button&#10;          &gt;&#10;          &lt;el-button @click=&quot;deleteItem(row.id)&quot; size=&quot;mini&quot; type=&quot;warning&quot;&#10;            &gt;删除&lt;/el-button&#10;          &gt;&#10;        &lt;/template&gt;&#10;      &lt;/el-table-column&gt;&#10;    &lt;/template&gt;&#10;  &lt;/CMList&gt;&#10;&lt;/template&gt;&#10;&#10;&lt;script&gt;&#10;import Detail from './';&#10;&#10;export default {&#10;  components: {&#10;    Detail&#10;  },&#10;  data() {&#10;    return {&#10;      columns: [&#10;        { prop: 'name', label: '名称' },&#10;        { prop: 'type', label: '类型' }&#10;      ],&#10;      filterField: [&#10;        { prop: 'name', type: 'INPUT', label: '名称' },&#10;        {&#10;          prop: 'type',&#10;          type: 'SELECT',&#10;          label: '类型',&#10;          options: [{ value: 1, label: 1 }]&#10;        }&#10;      ],&#10;      filterParams: {&#10;        name: '',&#10;        type: ''&#10;      },&#10;      loading: false&#10;    };&#10;  },&#10;  methods: {&#10;    deleteItem(id) {&#10;      this.$confirm('确认删除吗？', '操作提示').then(() =&gt; {&#10;        this.loading = true;&#10;        this.deleteItem(id)&#10;          .then(() =&gt; {&#10;            this.$message.success('删除成功');&#10;            this.$refs.CMList.getList(1);&#10;          })&#10;          .finally(() =&gt; (this.loading = false));&#10;      });&#10;    },&#10;    async getList() {&#10;      await new Promise((resolve) =&gt; setTimeout(resolve, 400));&#10;      return {&#10;        data: {&#10;          total: 2,&#10;          records: [{ name: '测试1', type: 1 }, { name: '测试2', type: 1 }]&#10;        }&#10;      };&#10;    },&#10;    async getListMethod({ page: current, pageSize: size }) {&#10;      return this.getList({&#10;        current,&#10;        size,&#10;        ...this.filterParams&#10;      }).then((res) =&gt; {&#10;        const { records: data, total } = res.data;&#10;        return {&#10;          total,&#10;          data&#10;        };&#10;      });&#10;    }&#10;  }&#10;};&#10;&lt;/script&gt;&#10;&#10;&lt;style lang=&quot;scss&quot; scoped&gt;&#10;@import '~@/styles/common-variables.scss';&#10;&lt;/style&gt;&#10;" description="" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="HTML_TEXT" value="true" />
      <option name="VUE_TEMPLATE" value="true" />
    </context>
  </template>
  <template name="vlist-temp" value="  &lt;CMList&#10;    ref=&quot;CMList&quot;&#10;    :get-list-method=&quot;getListMethod&quot;&#10;    :columns=&quot;columns&quot;&#10;    :filter-fields=&quot;filterField&quot;&#10;    :filter-params=&quot;filterParams&quot;&#10;    size=&quot;small&quot;&#10;  &gt;&#10;    &lt;template #header&gt;&#10;      &lt;el-button&#10;        @click=&quot;$refs.Detail.open()&quot;&#10;        type=&quot;primary&quot;&#10;        size=&quot;small&quot;&#10;        icon=&quot;el-icon-plus&quot;&#10;        &gt;创建&lt;/el-button&#10;      &gt;&#10;&#10;      &lt;Detail ref=&quot;Detail&quot;&gt;&lt;/Detail&gt;&#10;    &lt;/template&gt;&#10;    &lt;template #column-end&gt;&#10;      &lt;el-table-column label=&quot;操作&quot;&gt;&#10;        &lt;template slot-scope=&quot;{ row }&quot;&gt;&#10;          &lt;el-button&#10;            @click=&quot;$refs.Detail.open('edit', row)&quot;&#10;            size=&quot;mini&quot;&#10;            type=&quot;primary&quot;&#10;            &gt;编辑&lt;/el-button&#10;          &gt;&#10;          &lt;el-button @click=&quot;deleteItem(row.id)&quot; size=&quot;mini&quot; type=&quot;warning&quot;&#10;            &gt;删除&lt;/el-button&#10;          &gt;&#10;        &lt;/template&gt;&#10;      &lt;/el-table-column&gt;&#10;    &lt;/template&gt;&#10;  &lt;/CMList&gt;" description="" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="HTML_TEXT" value="true" />
      <option name="VUE_TEMPLATE" value="true" />
    </context>
  </template>
  <template name="vconfirm" value="this.$confirm('确认删除吗？', '操作提示').then(() =&gt; {&#10;  this.loading = true;&#10;  $METHOD$()&#10;    .then(() =&gt; {&#10;      this.$message.success('删除成功');&#10;      this.$refs.CMList.getList(1);&#10;    })&#10;    .finally(() =&gt; (this.loading = false));&#10;});" description="" toReformat="false" toShortenFQNames="true">
    <variable name="METHOD" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="VUE_COMPONENT_DESCRIPTOR" value="true" />
    </context>
  </template>
  <template name="vlist-js" value="data() {&#10;  return {&#10;    columns: [&#10;      { prop: 'name', label: '名称' },&#10;      { prop: 'type', label: '类型' }&#10;    ],&#10;    filterField: [&#10;      { prop: 'name', type: 'INPUT', label: '名称' },&#10;      {&#10;        prop: 'type',&#10;        type: 'SELECT',&#10;        label: '类型',&#10;        options: [{ value: 1, label: 1 }]&#10;      }&#10;    ],&#10;    filterParams: {&#10;      name: '',&#10;      type: ''&#10;    },&#10;    loading: false&#10;  };&#10;},&#10;methods: {&#10;  deleteItem(id) {&#10;    this.$confirm('确认删除吗？', '操作提示').then(() =&gt; {&#10;      this.loading = true;&#10;      this.deleteItem(id)&#10;        .then(() =&gt; {&#10;          this.$message.success('删除成功');&#10;          this.$refs.CMList.getList(1);&#10;        })&#10;        .finally(() =&gt; (this.loading = false));&#10;    });&#10;  },&#10;  async getList() {&#10;    await new Promise((resolve) =&gt; setTimeout(resolve, 400));&#10;    return {&#10;      data: {&#10;        total: 2,&#10;        records: [&#10;          { name: '测试1', type: 1 },&#10;          { name: '测试2', type: 1 }&#10;        ]&#10;      }&#10;    };&#10;  },&#10;  async getListMethod({ page: current, pageSize: size }) {&#10;    return this.getList({&#10;      current,&#10;      size,&#10;      ...this.filterParams&#10;    }).then((res) =&gt; {&#10;      const { records: data, total } = res.data;&#10;      return {&#10;        total,&#10;        data&#10;      };&#10;    });&#10;  }&#10;}&#10;" description="" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="VUE_COMPONENT_DESCRIPTOR" value="true" />
    </context>
  </template>
  <template name="veldialog" value="&lt;template&gt;&#10;  &lt;el-dialog&#10;    :visible.sync=&quot;visible&quot;&#10;    title=&quot;弹窗&quot;&#10;    width=&quot;750px&quot;&#10;    append-to-body&#10;  &gt;&#10;    test&#10;    &lt;div slot=&quot;footer&quot; class=&quot;text-center&quot;&gt;&#10;      &lt;el-button&#10;        @click=&quot;submit()&quot;&#10;        type=&quot;primary&quot;&#10;        size=&quot;small&quot;&#10;        &gt;确认&lt;/el-button&#10;      &gt;&#10;      &lt;el-button @click=&quot;close()&quot; size=&quot;small&quot;&gt;取消&lt;/el-button&gt;&#10;    &lt;/div&gt;&#10;  &lt;/el-dialog&gt;&#10;&lt;/template&gt;&#10;&#10;&lt;script&gt;&#10;export default {&#10;  data() {&#10;    return {&#10;      visible: false&#10;    };&#10;  },&#10;  methods: {&#10;    open() {&#10;      this.visible = true;&#10;    },&#10;    submit() {&#10;      this.close();&#10;    },&#10;    close() {&#10;      this.visible = false;&#10;    }&#10;  }&#10;};&#10;&lt;/script&gt;&#10;&#10;&lt;style lang=&quot;scss&quot; scoped&gt;&#10;@import '~@/styles/common-variables.scss';&#10;&lt;/style&gt;&#10;" description="" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="HTML_TEXT" value="true" />
      <option name="VUE_TEMPLATE" value="true" />
    </context>
  </template>
  <template name="veldialog-list" value="&lt;template&gt;&#10;  &lt;el-dialog :visible.sync=&quot;visible&quot; title=&quot;弹窗&quot; width=&quot;960px&quot; append-to-body&gt;&#10;    &lt;CMList&#10;      ref=&quot;CMList&quot;&#10;      :get-list-method=&quot;getListMethod&quot;&#10;      :columns=&quot;columns&quot;&#10;      :filter-fields=&quot;filterField&quot;&#10;      :filter-params=&quot;filterParams&quot;&#10;      size=&quot;small&quot;&#10;    &gt;&#10;      &lt;template #header&gt;&#10;        &lt;el-button&#10;          @click=&quot;$refs.Detail.open()&quot;&#10;          type=&quot;primary&quot;&#10;          size=&quot;small&quot;&#10;          icon=&quot;el-icon-plus&quot;&#10;          &gt;创建&lt;/el-button&#10;        &gt;&#10;&#10;        &lt;Detail ref=&quot;Detail&quot;&gt;&lt;/Detail&gt;&#10;      &lt;/template&gt;&#10;      &lt;template #column-end&gt;&#10;        &lt;el-table-column label=&quot;操作&quot;&gt;&#10;          &lt;template slot-scope=&quot;{ row }&quot;&gt;&#10;            &lt;el-button&#10;              @click=&quot;$refs.Detail.open('edit', row)&quot;&#10;              size=&quot;mini&quot;&#10;              type=&quot;primary&quot;&#10;              &gt;编辑&lt;/el-button&#10;            &gt;&#10;            &lt;el-button @click=&quot;deleteItem(row.id)&quot; size=&quot;mini&quot; type=&quot;warning&quot;&#10;              &gt;删除&lt;/el-button&#10;            &gt;&#10;          &lt;/template&gt;&#10;        &lt;/el-table-column&gt;&#10;      &lt;/template&gt;&#10;    &lt;/CMList&gt;&#10;    &lt;!--&lt;div slot=&quot;footer&quot; class=&quot;text-center&quot;&gt;--&gt;&#10;    &lt;!--  &lt;el-button @click=&quot;close()&quot; size=&quot;small&quot;&gt;取消&lt;/el-button&gt;--&gt;&#10;    &lt;!--&lt;/div&gt;--&gt;&#10;  &lt;/el-dialog&gt;&#10;&lt;/template&gt;&#10;&#10;&lt;script&gt;&#10;import Detail from './';&#10;&#10;export default {&#10;  components: {&#10;    Detail&#10;  },&#10;  data() {&#10;    return {&#10;      visible: false,&#10;      columns: [&#10;        { prop: 'name', label: '名称' },&#10;        { prop: 'type', label: '类型' }&#10;      ],&#10;      filterField: [&#10;        { prop: 'name', type: 'INPUT', label: '名称' },&#10;        {&#10;          prop: 'type',&#10;          type: 'SELECT',&#10;          label: '类型',&#10;          options: [{ value: 1, label: 1 }]&#10;        }&#10;      ],&#10;      filterParams: {&#10;        name: '',&#10;        type: ''&#10;      },&#10;      loading: false&#10;    };&#10;  },&#10;  methods: {&#10;    deleteItem(id) {&#10;      this.$confirm('确认删除吗？', '操作提示').then(() =&gt; {&#10;        this.loading = true;&#10;        this.deleteItem(id)&#10;          .then(() =&gt; {&#10;            this.$message.success('删除成功');&#10;            this.$refs.CMList.getList(1);&#10;          })&#10;          .finally(() =&gt; (this.loading = false));&#10;      });&#10;    },&#10;    async getList() {&#10;      await new Promise((resolve) =&gt; setTimeout(resolve, 400));&#10;      return {&#10;        data: {&#10;          total: 2,&#10;          records: [{ name: '测试1', type: 1 }, { name: '测试2', type: 1 }]&#10;        }&#10;      };&#10;    },&#10;    async getListMethod({ page: current, pageSize: size }) {&#10;      return this.getList({&#10;        current,&#10;        size,&#10;        ...this.filterParams&#10;      }).then((res) =&gt; {&#10;        const { records: data, total } = res.data;&#10;        return {&#10;          total,&#10;          data&#10;        };&#10;      });&#10;    },&#10;    open() {&#10;      this.visible = true;&#10;      this.$nextTick(() =&gt; this.$refs.CMList.getList());&#10;    },&#10;    close() {&#10;      this.visible = false;&#10;    }&#10;  }&#10;};&#10;&lt;/script&gt;&#10;&#10;&lt;style lang=&quot;scss&quot; scoped&gt;&#10;// @import '~@/styles/common-variables.scss';&#10;&lt;/style&gt;&#10;" description="" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="HTML_TEXT" value="true" />
      <option name="VUE_TEMPLATE" value="true" />
    </context>
  </template>
</templateSet>